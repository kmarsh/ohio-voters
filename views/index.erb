<form action="/" method="GET" class="form mb-4">
  <div class="row align-items-end">
    <div class="col">
      <label for="last_name" class="form-label">Last Name</label>
      <input type="text" name="last_name" id="last_name" class="form-control" value="<%= params[:last_name] %>" />
    </div>
    <div class="col">
      <label for="address" class="form-label">Address</label>
      <input type="text" name="address" id="address" class="form-control" value="<%= params[:address] %>" />
    </div>
    <div class="col">
      <button type="submit" class="btn btn-primary">Search</button>
    </div>
  </div>
</form>


<% if @voters %>
  <table class="table">
    <thead>
      <tr>
        <th>#</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>DOB (Age)</th>
        <th>Status</th>
        <th>Party</th>
        <th>Address</th>
        <th>City</th>
        <th>Precinct</th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <% @voters.each do |voter| %>
      <tr>
        <th scope="row">
          <a href="/voters/<%= voter[:SOS_VOTERID] %>"><%= voter[:SOS_VOTERID] %></a>
        </th>
        <td><%= voter[:FIRST_NAME] %></td>
        <td><%= voter[:LAST_NAME] %></td>
        <td>
          <%= voter[:DATE_OF_BIRTH] %>
          (<%= age(voter[:DATE_OF_BIRTH]) %>)
        </td>
        <td><%= voter[:VOTER_STATUS] %></td>
        <td class="party party--<%= voter[:PARTY_AFFILIATION] %>">
          <%= voter[:PARTY_AFFILIATION] %>
        </td>
        <td><%= voter[:RESIDENTIAL_ADDRESS1] %></td>
        <td><%= voter[:CITY] %></td>
        <td><%= voter[:PRECINCT_NAME] %></td>
        <td><%= voter[:PRECINCT_CODE] %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
